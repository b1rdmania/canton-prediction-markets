<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Canton Market of the Week - One question. One pool. On Canton.">
  <title>Canton Market of the Week</title>
  <link rel="stylesheet" href="css/main.css">
  <style>
    /* Compact single-viewport layout */
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /* Compact navigation */
    .nav-compact {
      background: var(--color-background-primary);
      border-bottom: 2px solid var(--color-border-primary);
      padding: 12px 0;
      position: relative;
      z-index: 100;
    }

    .nav-compact .container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 0 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-compact .nav-logo {
      font-family: var(--font-body);
      font-size: 18px;
      color: var(--color-text-primary);
    }

    .nav-compact .nav-links {
      display: flex;
      gap: 24px;
    }

    .nav-compact .nav-link {
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-text-secondary);
      text-decoration: none;
    }

    .nav-compact .btn-compact {
      padding: 8px 16px;
      background: var(--color-text-primary);
      color: var(--color-background-primary);
      border: 2px solid var(--color-text-primary);
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .nav-compact .btn-compact:hover {
      background: var(--color-background-primary);
      color: var(--color-text-primary);
    }

    /* Main content area - fills remaining space */
    .main-content {
      flex: 1;
      overflow-y: auto;
      background: var(--color-background-secondary);
    }

    .content-wrapper {
      max-width: 1600px;
      margin: 0 auto;
      padding: 16px;
      height: 100%;
    }

    /* Compact header */
    .compact-header {
      background: var(--color-background-primary);
      border: 2px solid var(--color-border-primary);
      padding: 16px 24px;
      margin-bottom: 16px;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
    }

    .header-left {
      flex: 1;
    }

    .week-label {
      font-family: var(--font-mono);
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--color-accent-primary);
      margin-bottom: 12px;
    }

    .market-title {
      font-family: var(--font-mono);
      font-size: 32px;
      line-height: 1.1;
      text-transform: uppercase;
      margin-bottom: 6px;
      letter-spacing: 0.02em;
    }

    .market-subtitle {
      font-family: var(--font-mono);
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--color-text-secondary);
    }

    .header-right {
      text-align: right;
    }

    .countdown-compact {
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-text-secondary);
      margin-bottom: 4px;
    }

    .countdown-time {
      font-family: var(--font-mono);
      font-size: 20px;
      color: var(--color-accent-primary);
      font-weight: 600;
    }

    .market-question-compact {
      font-size: 17px;
      line-height: 1.35;
      color: var(--color-text-primary);
      padding: 12px 16px;
      background: var(--color-background-secondary);
      border: 1px solid var(--color-border-secondary);
      border-radius: 4px;
    }

    /* Three-column grid */
    .three-col-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 16px;
      height: calc(100vh - 260px);
    }

    .col-panel {
      background: var(--color-background-primary);
      border: 2px solid var(--color-border-primary);
      padding: 16px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    .panel-header {
      font-family: var(--font-mono);
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--color-text-secondary);
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--color-border-secondary);
    }

    /* Market Mood */
    .pool-bar-compact {
      height: 80px;
      display: flex;
      border: 2px solid var(--color-border-primary);
      overflow: hidden;
      border-radius: 4px;
      margin-bottom: 12px;
    }

    .pool-bar-yes {
      background: linear-gradient(135deg, #5B8FD4 0%, #4A7BC3 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-family: var(--font-mono);
      font-size: 36px;
      font-weight: 600;
    }

    .pool-bar-no {
      background: linear-gradient(135deg, #E8846B 0%, #D6735A 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-family: var(--font-mono);
      font-size: 36px;
      font-weight: 600;
    }

    .pool-legend {
      display: flex;
      justify-content: space-between;
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 16px;
    }

    .pool-legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .pool-legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .pool-legend-dot.yes {
      background: #5B8FD4;
    }

    .pool-legend-dot.no {
      background: #E8846B;
    }

    /* Payout multipliers */
    .payout-multipliers {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 16px;
    }

    .multiplier-card {
      flex: 1;
      padding: 12px;
      background: var(--color-background-secondary);
      border: 1px solid var(--color-border-secondary);
      border-radius: 4px;
      text-align: center;
    }

    .multiplier-label {
      font-family: var(--font-mono);
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-text-tertiary);
      margin-bottom: 4px;
    }

    .multiplier-value {
      font-family: var(--font-mono);
      font-size: 18px;
      font-weight: 600;
      color: var(--color-text-primary);
    }

    .multiplier-card.yes-card {
      border-left: 3px solid #5B8FD4;
    }

    .multiplier-card.no-card {
      border-left: 3px solid #E8846B;
    }

    .pool-explainer {
      font-size: 10px;
      color: var(--color-text-tertiary);
      text-align: center;
      font-style: italic;
      padding: 8px 12px;
      background: var(--color-background-secondary);
      border-radius: 3px;
      margin-bottom: 16px;
    }

    /* Stake Module */
    .stake-toggle {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
    }

    .stake-toggle-btn {
      flex: 1;
      padding: 12px;
      background: var(--color-background-secondary);
      border: 2px solid var(--color-border-primary);
      font-family: var(--font-mono);
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .stake-toggle-btn:hover {
      border-color: var(--color-text-primary);
    }

    .stake-toggle-btn.active {
      background: var(--color-text-primary);
      color: var(--color-background-primary);
      border-color: var(--color-text-primary);
    }

    .stake-input-group {
      margin-bottom: 12px;
    }

    .stake-label {
      display: block;
      font-family: var(--font-mono);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-text-secondary);
      margin-bottom: 6px;
    }

    .stake-input {
      width: 100%;
      padding: 10px;
      border: 2px solid var(--color-border-primary);
      background: var(--color-background-secondary);
      font-family: var(--font-mono);
      font-size: 13px;
      box-sizing: border-box;
    }

    .stake-input:focus {
      outline: none;
      border-color: var(--color-text-primary);
    }

    .stake-textarea {
      width: 100%;
      padding: 10px;
      border: 2px solid var(--color-border-primary);
      background: var(--color-background-secondary);
      font-family: var(--font-body);
      font-size: 12px;
      min-height: 60px;
      resize: vertical;
      box-sizing: border-box;
    }

    .stake-textarea:focus {
      outline: none;
      border-color: var(--color-text-primary);
    }

    .btn-stake {
      width: 100%;
      padding: 12px;
      background: var(--color-text-primary);
      color: var(--color-background-primary);
      border: 2px solid var(--color-text-primary);
      font-family: var(--font-mono);
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-top: auto;
    }

    .btn-stake:hover {
      background: var(--color-accent-primary);
      border-color: var(--color-accent-primary);
    }

    /* Participants */
    .participants-stats {
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--color-text-secondary);
      margin-bottom: 16px;
    }

    .pool-size-highlight {
      color: var(--color-accent-primary);
      font-weight: 600;
    }

    .participants-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .participant-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background: var(--color-background-secondary);
      border: 1px solid var(--color-border-secondary);
      border-radius: 3px;
      font-family: var(--font-mono);
      font-size: 11px;
      gap: 8px;
    }

    .participant-address {
      color: var(--color-text-secondary);
      flex-shrink: 0;
    }

    .participant-amount {
      color: var(--color-text-primary);
      font-weight: 600;
      flex-shrink: 0;
    }

    .participant-position {
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      flex-shrink: 0;
    }

    .participant-position.yes {
      background: rgba(91, 143, 212, 0.1);
      color: #5B8FD4;
      border: 1px solid rgba(91, 143, 212, 0.3);
    }

    .participant-position.no {
      background: rgba(232, 132, 107, 0.1);
      color: #E8846B;
      border: 1px solid rgba(232, 132, 107, 0.3);
    }

    /* Resolution */
    .resolution-details {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .resolution-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid var(--color-border-secondary);
      gap: 12px;
    }

    .resolution-row:last-child {
      border-bottom: none;
    }

    .resolution-label {
      font-family: var(--font-mono);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-text-tertiary);
      flex-shrink: 0;
    }

    .resolution-value {
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--color-text-primary);
      text-align: right;
    }

    /* Timeline at bottom */
    .timeline-compact {
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid var(--color-border-secondary);
    }

    .timeline-label {
      font-family: var(--font-mono);
      font-size: 9px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--color-text-tertiary);
      margin-bottom: 12px;
    }

    .timeline-steps {
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
    }

    .timeline-steps::before {
      content: '';
      position: absolute;
      top: 12px;
      left: 0;
      right: 0;
      height: 1px;
      background: var(--color-border-secondary);
      z-index: 0;
    }

    .timeline-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      position: relative;
      z-index: 1;
      flex: 1;
    }

    .timeline-dot {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--color-background-primary);
      border: 2px solid var(--color-border-secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-mono);
      font-size: 9px;
      color: var(--color-text-tertiary);
    }

    .timeline-step.active .timeline-dot {
      background: var(--color-text-primary);
      border-color: var(--color-text-primary);
      color: var(--color-background-primary);
    }

    .timeline-step.completed .timeline-dot {
      background: var(--color-background-secondary);
      border-color: var(--color-text-primary);
      color: var(--color-text-primary);
    }

    .timeline-step-label {
      font-family: var(--font-mono);
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--color-text-secondary);
      text-align: center;
      line-height: 1.2;
    }

    .timeline-step.active .timeline-step-label {
      color: var(--color-text-primary);
      font-weight: 600;
    }

    /* Footer compact */
    .footer-compact {
      background: var(--color-accent-primary);
      border-top: 2px solid var(--color-border-primary);
      padding: 12px 0;
      text-align: center;
    }

    .footer-compact .container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 0 24px;
    }

    .footer-text {
      font-size: 12px;
      color: var(--color-text-primary);
      margin-bottom: 4px;
    }

    .footer-subtext {
      font-family: var(--font-mono);
      font-size: 10px;
      color: var(--color-text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    /* Responsive adjustments */
    @media (max-width: 1400px) {
      .three-col-grid {
        grid-template-columns: 1fr 1fr;
      }

      .col-panel:last-child {
        grid-column: 1 / -1;
      }
    }

    @media (max-width: 768px) {
      .three-col-grid {
        grid-template-columns: 1fr;
        height: auto;
      }

      .col-panel {
        height: auto;
      }

      body {
        overflow-y: auto;
      }

      .main-content {
        overflow-y: visible;
      }
    }
  </style>
</head>
<body>

  <!-- Compact Navigation -->
  <nav class="nav-compact">
    <div class="container">
      <div class="nav-logo">canton markets</div>
      <div class="nav-links">
        <a href="#" class="nav-link">ABOUT</a>
        <a href="#" class="nav-link">HOW IT WORKS</a>
      </div>
      <div class="nav-actions">
        <button class="btn-compact">CONNECT WALLET</button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <div class="content-wrapper">

      <!-- Compact Header -->
      <div class="compact-header">
        <div class="header-top">
          <div class="header-left">
            <div class="week-label">WEEK 13 · MAR 23–29, 2026</div>
            <h1 class="market-title">CANTON MARKET<br>OF THE WEEK</h1>
            <div class="market-subtitle">One question. One pool. On Canton.</div>
          </div>
          <div class="header-right">
            <div class="countdown-compact">Resolves in:</div>
            <div class="countdown-time">2d 14h 27m</div>
          </div>
        </div>
        <div class="market-question-compact">
          Will Bitcoin hit $150,000 before April 1st, 2026?
        </div>
      </div>

      <!-- Three Column Grid -->
      <div class="three-col-grid">

        <!-- Column 1: Market Mood + Timeline -->
        <div class="col-panel">
          <div class="panel-header">Live Pool Balance</div>
          <div style="flex: 1;">
            <div style="font-size: 11px; color: var(--color-text-tertiary); margin-bottom: 12px;">Parimutuel pricing</div>

            <div class="pool-bar-compact">
              <div class="pool-bar-yes" style="width: 62%;">62%</div>
              <div class="pool-bar-no" style="width: 38%;">38%</div>
            </div>

            <div class="pool-legend">
              <div class="pool-legend-item">
                <span class="pool-legend-dot yes"></span>
                <span>Yes · 62%</span>
              </div>
              <div class="pool-legend-item">
                <span class="pool-legend-dot no"></span>
                <span>No · 38%</span>
              </div>
            </div>

            <!-- Payout Multipliers -->
            <div class="payout-multipliers">
              <div class="multiplier-card yes-card">
                <div class="multiplier-label">Stake Yes</div>
                <div class="multiplier-value">1.61x</div>
              </div>
              <div class="multiplier-card no-card">
                <div class="multiplier-label">Stake No</div>
                <div class="multiplier-value">2.63x</div>
              </div>
            </div>

            <div class="pool-explainer">
              Payout multipliers shift as stakes come in
            </div>

            <!-- Weekly Timeline -->
            <div class="timeline-compact">
              <div class="timeline-label">Weekly Cadence</div>
              <div class="timeline-steps">
                <div class="timeline-step completed">
                  <div class="timeline-dot">✓</div>
                  <div class="timeline-step-label">Curate</div>
                </div>
                <div class="timeline-step completed">
                  <div class="timeline-dot">✓</div>
                  <div class="timeline-step-label">Vote</div>
                </div>
                <div class="timeline-step active">
                  <div class="timeline-dot">●</div>
                  <div class="timeline-step-label">Trade</div>
                </div>
                <div class="timeline-step">
                  <div class="timeline-dot">4</div>
                  <div class="timeline-step-label">Resolve</div>
                </div>
                <div class="timeline-step">
                  <div class="timeline-dot">5</div>
                  <div class="timeline-step-label">Recap</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Column 2: Stake Module -->
        <div class="col-panel">
          <div class="panel-header">Stake in this pool</div>

          <div class="stake-toggle">
            <button class="stake-toggle-btn active">YES</button>
            <button class="stake-toggle-btn">NO</button>
          </div>

          <div class="stake-input-group">
            <label class="stake-label">Amount (USDC.x)</label>
            <input type="text" class="stake-input" placeholder="100.00" />
          </div>

          <div class="stake-input-group">
            <label class="stake-label">Why you're staking (optional)</label>
            <textarea class="stake-textarea" placeholder="Share your reasoning..."></textarea>
          </div>

          <button class="btn-stake">STAKE NOW</button>

          <!-- Resolution Info -->
          <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--color-border-secondary);">
            <div class="panel-header" style="margin-bottom: 12px;">Resolution</div>
            <div class="resolution-details">
              <div class="resolution-row">
                <span class="resolution-label">Method</span>
                <span class="resolution-value">Designated Resolver</span>
              </div>
              <div class="resolution-row">
                <span class="resolution-label">Source</span>
                <span class="resolution-value">CoinGecko BTC/USD Price</span>
              </div>
              <div class="resolution-row">
                <span class="resolution-label">Time</span>
                <span class="resolution-value">Apr 1, 2026 · 00:00 UTC</span>
              </div>
              <div class="resolution-row">
                <span class="resolution-label">Settlement</span>
                <span class="resolution-value">DAML · USDC.x</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Column 3: Participants -->
        <div class="col-panel">
          <div class="panel-header">Participants</div>
          <div class="participants-stats">
            42 participants · Pool: <span class="pool-size-highlight">12,340 USDC.x</span>
          </div>

          <div class="participants-list">
            <div class="participant-item">
              <span class="participant-address">a84f…7d2c</span>
              <span class="participant-amount">1,200</span>
              <span class="participant-position yes">Yes</span>
            </div>
            <div class="participant-item">
              <span class="participant-address">3b9e…1f48</span>
              <span class="participant-amount">980</span>
              <span class="participant-position no">No</span>
            </div>
            <div class="participant-item">
              <span class="participant-address">c5d2…8a3b</span>
              <span class="participant-amount">750</span>
              <span class="participant-position yes">Yes</span>
            </div>
            <div class="participant-item">
              <span class="participant-address">9f1a…4e67</span>
              <span class="participant-amount">620</span>
              <span class="participant-position yes">Yes</span>
            </div>
            <div class="participant-item">
              <span class="participant-address">2d8c…b5f9</span>
              <span class="participant-amount">500</span>
              <span class="participant-position no">No</span>
            </div>
            <div class="participant-item">
              <span class="participant-address">7a3f…9c2d</span>
              <span class="participant-amount">450</span>
              <span class="participant-position yes">Yes</span>
            </div>
            <div class="participant-item">
              <span class="participant-address">1e6b…4f8a</span>
              <span class="participant-amount">380</span>
              <span class="participant-position yes">Yes</span>
            </div>
            <div class="participant-item">
              <span class="participant-address">5c9d…2a7e</span>
              <span class="participant-amount">320</span>
              <span class="participant-position no">No</span>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

  <!-- Compact Footer -->
  <footer class="footer-compact">
    <div class="container">
      <div class="footer-text">Built for Canton. One market at a time.</div>
      <div class="footer-subtext">Powered by DAML · Settled in USDC.x</div>
    </div>
  </footer>

  <script>
    // Simple stake toggle interaction
    document.querySelectorAll('.stake-toggle-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.stake-toggle-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
      });
    });

    // Stake button interaction
    document.querySelector('.btn-stake').addEventListener('click', function() {
      const amount = document.querySelector('.stake-input').value;
      if (amount) {
        alert('Stake recorded: ' + amount + ' USDC.x');
      }
    });
  </script>

</body>
</html>
